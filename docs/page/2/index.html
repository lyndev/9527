<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>lyndev-test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="lyndev-test">
<meta property="og:url" content="https://www.lyndev.cn/page/2/index.html">
<meta property="og:site_name" content="lyndev-test">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="刘伏波">
<meta property="article:tag" content="Cocos CocosCreater U3D LayaAir Lua JS TS C# Python Java C++ C">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="lyndev-test" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">lyndev-test</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Cocos/CocosCreater/U3D/LayaAir#Lua/JS/TS/C#/Python/Java/C++/C</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">文章</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://www.lyndev.cn"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-python003" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/04/python003/" class="article-date">
  <time datetime="2020-05-04T11:17:14.000Z" itemprop="datePublished">2020-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/04/python003/">Python-学习笔记1，导入模块</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>坑1：导入当前py工程下的其他目录下的py,需要把其他目录定义为一个包，必须加入一个  “<strong>init</strong>.py”的文件，然后进行import 或者from操作</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.lyndev.cn/2020/05/04/python003/" data-id="cks8lgens000yzw927us03ito" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-python002" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/04/python002/" class="article-date">
  <time datetime="2020-05-04T11:16:55.000Z" itemprop="datePublished">2020-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/04/python002/">Python-解决str转长数值字符，自动转成科学计数法问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近策划这边遇到用写python写的转标工具，很长数值，被自动输出了科学计数问题：<br>正确的结果应该是如下：<br><img src="https://upload-images.jianshu.io/upload_images/4743656-a296f5bc1590df27.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>怎么去解决python,str输出的数值不转成科学计数法呢：</p>
<h3 id="利用：-“-f”-float-value"><a href="#利用：-“-f”-float-value" class="headerlink" title="利用： “%.f” % float(value)"></a>利用： “%.f” % float(value)</h3><p>value使我们要转换的值<br>这里我截取部分代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">_v &#x3D; str(value)</span><br><span class="line">if _v.find(&quot;e+&quot;) !&#x3D; -1:</span><br><span class="line">      __v &#x3D; &quot;%.f&quot; % float(value)</span><br><span class="line">      return &#39;&quot;&#39;+ str(__v) +&#39;&quot;&#39;</span><br><span class="line">  return &#39;&quot;&#39; + str(value) + &#39;&quot;&#39;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.lyndev.cn/2020/05/04/python002/" data-id="cks8lgenr000wzw92001mfbi4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-python001" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/04/python001/" class="article-date">
  <time datetime="2020-05-04T11:16:52.000Z" itemprop="datePublished">2020-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/04/python001/">Python-解决转excel到文件后中文乱码问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="2-x版本"><a href="#2-x版本" class="headerlink" title="2.x版本"></a>2.x版本</h3><p>reload(sys)<br>sys.setdefaultencoding(‘utf-8’)</p>
<h3 id="3-x版本"><a href="#3-x版本" class="headerlink" title="3.x版本"></a>3.x版本</h3><p>将内容转utf8在转gbk<br>  str(内容.encode(‘utf-8’).decode(‘gbk’))</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.lyndev.cn/2020/05/04/python001/" data-id="cks8lgenp000uzw92bj7u6dx9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-pomelo004" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/04/pomelo004/" class="article-date">
  <time datetime="2020-05-04T11:15:45.000Z" itemprop="datePublished">2020-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/04/pomelo004/">Pomelo-vscode断点调试</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="注意：根据系统的不同，参数也不太一样，如果以下方式不行，请查看node版本"><a href="#注意：根据系统的不同，参数也不太一样，如果以下方式不行，请查看node版本" class="headerlink" title="注意：根据系统的不同，参数也不太一样，如果以下方式不行，请查看node版本"></a>注意：根据系统的不同，参数也不太一样，如果以下方式不行，请查看node版本</h2><h3 id="win系统：使用–inspect，即：”args”-”–inspect-32312”"><a href="#win系统：使用–inspect，即：”args”-”–inspect-32312”" class="headerlink" title="win系统：使用–inspect，即：”args”:”–inspect=32312”"></a>win系统：使用–inspect，即：”args”:”–inspect=32312”</h3><h3 id="mac系统：使用-–debug，即：”args”-”–debug-32312”"><a href="#mac系统：使用-–debug，即：”args”-”–debug-32312”" class="headerlink" title="mac系统：使用 –debug，即：”args”:”–debug=32312”"></a>mac系统：使用 –debug，即：”args”:”–debug=32312”</h3><p>1、在launch.json添加如下配置，没有就add一个配置<br>port端口需要和server.json一致，server.json配置见第二点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F; Use IntelliSense to learn about possible attributes.</span><br><span class="line">    &#x2F;&#x2F; Hover to view descriptions of existing attributes.</span><br><span class="line">    &#x2F;&#x2F; For more information, visit: https:&#x2F;&#x2F;go.microsoft.com&#x2F;fwlink&#x2F;?linkid&#x3D;830387</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;type&quot;: &quot;node&quot;,</span><br><span class="line">            &quot;request&quot;: &quot;attach&quot;,</span><br><span class="line">            &quot;name&quot;: &quot;Attach to Remote&quot;,</span><br><span class="line">            &quot;address&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">            &quot;port&quot;: 32312,</span><br><span class="line">            &quot;localRoot&quot;: &quot;$&#123;workspaceFolder&#125;&#x2F;game-server&quot;,</span><br><span class="line">            &quot;remoteRoot&quot;: &quot;&#x2F;Users&#x2F;undakunteera&#x2F;Documents&#x2F;WeChatGame&#x2F;Code&#x2F;server&#x2F;pomelo&#x2F;chatofpomelo-websocket&#x2F;game-server&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;type&quot;: &quot;node&quot;,</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;name&quot;: &quot;启动程序 (development)&quot;,</span><br><span class="line">            &quot;program&quot;: &quot;$&#123;workspaceRoot&#125;&#x2F;game-server&#x2F;app.js&quot;,</span><br><span class="line">            &quot;args&quot;: [</span><br><span class="line">                &quot;env&#x3D;development&quot;,</span><br><span class="line">                &quot;type&#x3D;all&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>sever.json添加“”args”:”–debug=32312””,以官方聊天demo为例,在此行添加调试端口：<br>“chat”:[“id”:”chat-server-1”, “host”:”127.0.0.1”, “port”:6050,”args”:”–debug=32312”}<pre><code>],</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;development&quot;:&#123;</span><br><span class="line">        &quot;connector&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4050, &quot;clientPort&quot;: 3050, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-2&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4051, &quot;clientPort&quot;: 3051, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-3&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4052, &quot;clientPort&quot;: 3052, &quot;frontend&quot;: true&#125;</span><br><span class="line">         ],</span><br><span class="line">        &quot;chat&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6050, &quot;args&quot;:&quot;--debug&#x3D;32312&quot;&#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;gate&quot;:[</span><br><span class="line">	       &#123;&quot;id&quot;: &quot;gate-server-1&quot;, &quot;host&quot;: &quot;127.0.0.1&quot;, &quot;clientPort&quot;: 3014, &quot;frontend&quot;: true&#125;</span><br><span class="line">	    ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;production&quot;:&#123;</span><br><span class="line">           &quot;connector&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4050, &quot;clientPort&quot;: 3050, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-2&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4051, &quot;clientPort&quot;: 3051, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-3&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4052, &quot;clientPort&quot;: 3052, &quot;frontend&quot;: true&#125;</span><br><span class="line">         ],</span><br><span class="line">        &quot;chat&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6050&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-2&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6051&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-3&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6052&#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;gate&quot;:[</span><br><span class="line">           &#123;&quot;id&quot;: &quot;gate-server-1&quot;, &quot;host&quot;: &quot;127.0.0.1&quot;, &quot;clientPort&quot;: 3014, &quot;frontend&quot;: true&#125;</span><br><span class="line">        ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>3.调试方式<br><img src="https://upload-images.jianshu.io/upload_images/4743656-0884b61b5f8535b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="屏幕快照 2019-05-21 上午12.50.42.png"></p>
<p>a.先启动”启动程序”即app.js入口<br>b.在切换到”attack to remote”再次启动远程调试</p>
<p>这样就可以打断点调试了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.lyndev.cn/2020/05/04/pomelo004/" data-id="cks8lgenh000szw92a0d39vkv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pomelo/" rel="tag">pomelo</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-pomelo002" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/04/pomelo002/" class="article-date">
  <time datetime="2020-05-04T11:14:29.000Z" itemprop="datePublished">2020-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/04/pomelo002/">Pomelo-扩展例子，增加一个 rpc服务器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="一、增加一个逻辑服务器（game）"><a href="#一、增加一个逻辑服务器（game）" class="headerlink" title="一、增加一个逻辑服务器（game）"></a>一、增加一个逻辑服务器（game）</h4><h5 id="1-拷贝一份chat-文件夹，修改为game-里面的脚本和代码做相应的修改"><a href="#1-拷贝一份chat-文件夹，修改为game-里面的脚本和代码做相应的修改" class="headerlink" title="1.拷贝一份chat 文件夹，修改为game, 里面的脚本和代码做相应的修改"></a>1.拷贝一份chat 文件夹，修改为game, 里面的脚本和代码做相应的修改</h5><h5 id="2-server-json增加game服务器地址配置"><a href="#2-server-json增加game服务器地址配置" class="headerlink" title="2.server.json增加game服务器地址配置"></a>2.server.json增加game服务器地址配置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;development&quot;:&#123;</span><br><span class="line">        &quot;connector&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4050, &quot;clientPort&quot;: 3050, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-2&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4051, &quot;clientPort&quot;: 3051, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-3&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4052, &quot;clientPort&quot;: 3052, &quot;frontend&quot;: true&#125;</span><br><span class="line">         ],</span><br><span class="line">        &quot;chat&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6050&#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;game&quot;:[</span><br><span class="line">               &#123;&quot;id&quot;:&quot;game-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6051,  &quot;args&quot;:&quot;--inspect&#x3D;5858&quot;&#125;</span><br><span class="line">          ],</span><br><span class="line">        &quot;gate&quot;:[</span><br><span class="line">	       &#123;&quot;id&quot;: &quot;gate-server-1&quot;, &quot;host&quot;: &quot;127.0.0.1&quot;, &quot;clientPort&quot;: 3014, &quot;frontend&quot;: true&#125;</span><br><span class="line">	    ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;production&quot;:&#123;</span><br><span class="line">           &quot;connector&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4050, &quot;clientPort&quot;: 3050, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-2&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4051, &quot;clientPort&quot;: 3051, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-3&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4052, &quot;clientPort&quot;: 3052, &quot;frontend&quot;: true&#125;</span><br><span class="line">         ],</span><br><span class="line">        &quot;chat&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6050&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-2&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6051&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-3&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6052&#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;game&quot;:[</span><br><span class="line">          &#123;&quot;id&quot;:&quot;game-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6051&#125;</span><br><span class="line">     ],</span><br><span class="line">        &quot;gate&quot;:[</span><br><span class="line">           &#123;&quot;id&quot;: &quot;gate-server-1&quot;, &quot;host&quot;: &quot;127.0.0.1&quot;, &quot;clientPort&quot;: 3014, &quot;frontend&quot;: true&#125;</span><br><span class="line">        ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-注册服务器-在adminServer-json配置game服务器配置（这里之前没配置，导致启动服务器出错）"><a href="#3-注册服务器-在adminServer-json配置game服务器配置（这里之前没配置，导致启动服务器出错）" class="headerlink" title="3.注册服务器,在adminServer.json配置game服务器配置（这里之前没配置，导致启动服务器出错）"></a>3.注册服务器,在adminServer.json配置game服务器配置（这里之前没配置，导致启动服务器出错）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;type&quot;: &quot;connector&quot;,</span><br><span class="line">        &quot;token&quot;: &quot;agarxhqb98rpajloaxn34ga8xrunpagkjwlaw3ruxnpaagl29w4rxn&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;type&quot;: &quot;chat&quot;,</span><br><span class="line">        &quot;token&quot;: &quot;agarxhqb98rpajloaxn34ga8xrunpagkjwlaw3ruxnpaagl29w4rxn&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;type&quot;: &quot;game&quot;,</span><br><span class="line">        &quot;token&quot;: &quot;agarxhqb98rpajloaxn34ga8xrunpagkjwlaw3ruxnpaagl29w4rxn&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;type&quot;: &quot;gate&quot;,</span><br><span class="line">        &quot;token&quot;: &quot;agarxhqb98rpajloaxn34ga8xrunpagkjwlaw3ruxnpaagl29w4rxn&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h5 id="4-在连接服务器，新增代码-其实为了方便我只是对chat服务器的相应代码做了拷贝简单修改为game服务器"><a href="#4-在连接服务器，新增代码-其实为了方便我只是对chat服务器的相应代码做了拷贝简单修改为game服务器" class="headerlink" title="4.在连接服务器，新增代码, 其实为了方便我只是对chat服务器的相应代码做了拷贝简单修改为game服务器"></a>4.在连接服务器，新增代码, 其实为了方便我只是对chat服务器的相应代码做了拷贝简单修改为game服务器</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">handler.enterGame &#x3D; function(msg, session, next) &#123;</span><br><span class="line">	var self &#x3D; this;</span><br><span class="line">	var rid &#x3D; msg.rid;</span><br><span class="line">	var uid &#x3D; msg.username + &#39;*&#39; + rid</span><br><span class="line">	var sessionService &#x3D; self.app.get(&#39;sessionService&#39;);</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;duplicate log in</span><br><span class="line">	if( !! sessionService.getByUid(uid)) &#123;</span><br><span class="line">		next(null, &#123;</span><br><span class="line">			code: 500,</span><br><span class="line">			error: true</span><br><span class="line">		&#125;);</span><br><span class="line">		return;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	session.bind(uid);</span><br><span class="line">	session.set(&#39;rid&#39;, rid);</span><br><span class="line">	session.push(&#39;rid&#39;, function(err) &#123;</span><br><span class="line">		if(err) &#123;</span><br><span class="line">			console.error(&#39;set rid for session service failed! error is : %j&#39;, err.stack);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	session.on(&#39;closed&#39;, onUserLeaveGame.bind(null, self.app));</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;put user into channel</span><br><span class="line">	self.app.rpc.game.gameRemote.add(session, uid, self.app.get(&#39;serverId&#39;), rid, true, function(users)&#123;</span><br><span class="line">		next(null, &#123;</span><br><span class="line">			users:users</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * User log out handler</span><br><span class="line"> *</span><br><span class="line"> * @param &#123;Object&#125; app current application</span><br><span class="line"> * @param &#123;Object&#125; session current session object</span><br><span class="line"> *</span><br><span class="line"> *&#x2F;</span><br><span class="line">var onUserLeaveGame &#x3D; function(app, session) &#123;</span><br><span class="line">	if(!session || !session.uid) &#123;</span><br><span class="line">		return;</span><br><span class="line">	&#125;</span><br><span class="line">	app.rpc.game.gameRemote.kick(session, session.uid, app.get(&#39;serverId&#39;), session.get(&#39;rid&#39;), null);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="5-启动服务器，通过之前的客户端的聊天例子，重新修改发送消息接口"><a href="#5-启动服务器，通过之前的客户端的聊天例子，重新修改发送消息接口" class="headerlink" title="5.启动服务器，通过之前的客户端的聊天例子，重新修改发送消息接口"></a>5.启动服务器，通过之前的客户端的聊天例子，重新修改发送消息接口</h5><p><img src="https://upload-images.jianshu.io/upload_images/4743656-0f3f6d378c5c82e4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h4 id="二、大功告成，下步继续研究pomelo的mmorpg游戏的服务器，目前搞懂这个聊天服务器，已经可以用到小游戏的服务器上了，把数据库加入，基本可以了（正在把之前写的微信小游戏服务器转移到这个架构上来）"><a href="#二、大功告成，下步继续研究pomelo的mmorpg游戏的服务器，目前搞懂这个聊天服务器，已经可以用到小游戏的服务器上了，把数据库加入，基本可以了（正在把之前写的微信小游戏服务器转移到这个架构上来）" class="headerlink" title="二、大功告成，下步继续研究pomelo的mmorpg游戏的服务器，目前搞懂这个聊天服务器，已经可以用到小游戏的服务器上了，把数据库加入，基本可以了（正在把之前写的微信小游戏服务器转移到这个架构上来）"></a>二、大功告成，下步继续研究pomelo的mmorpg游戏的服务器，目前搞懂这个聊天服务器，已经可以用到小游戏的服务器上了，把数据库加入，基本可以了（正在把之前写的微信小游戏服务器转移到这个架构上来）</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.lyndev.cn/2020/05/04/pomelo002/" data-id="cks8lgene000ozw925io6579h" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pomelo/" rel="tag">pomelo</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-pomelo003" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/04/pomelo003/" class="article-date">
  <time datetime="2020-05-04T11:12:36.000Z" itemprop="datePublished">2020-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/04/pomelo003/">pomelo-cocos creator聊天服务器初尝试</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.lyndev.cn/2020/05/04/pomelo003/" data-id="cks8lgenf000qzw929lgy8i7r" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pomelo/" rel="tag">pomelo</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-pomelo001" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/04/pomelo001/" class="article-date">
  <time datetime="2020-05-04T11:12:06.000Z" itemprop="datePublished">2020-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/04/pomelo001/">pomelo001</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>title: Pomelo-扩展例子，增加一个 rpc服务器<br>date: 2020-05-04 19:10:55<br>tags: pomelo</p>
<hr>
<h4 id="一、增加一个逻辑服务器（game）"><a href="#一、增加一个逻辑服务器（game）" class="headerlink" title="一、增加一个逻辑服务器（game）"></a>一、增加一个逻辑服务器（game）</h4><h5 id="1-拷贝一份chat-文件夹，修改为game-里面的脚本和代码做相应的修改"><a href="#1-拷贝一份chat-文件夹，修改为game-里面的脚本和代码做相应的修改" class="headerlink" title="1.拷贝一份chat 文件夹，修改为game, 里面的脚本和代码做相应的修改"></a>1.拷贝一份chat 文件夹，修改为game, 里面的脚本和代码做相应的修改</h5><h5 id="2-server-json增加game服务器地址配置"><a href="#2-server-json增加game服务器地址配置" class="headerlink" title="2.server.json增加game服务器地址配置"></a>2.server.json增加game服务器地址配置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;development&quot;:&#123;</span><br><span class="line">        &quot;connector&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4050, &quot;clientPort&quot;: 3050, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-2&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4051, &quot;clientPort&quot;: 3051, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-3&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4052, &quot;clientPort&quot;: 3052, &quot;frontend&quot;: true&#125;</span><br><span class="line">         ],</span><br><span class="line">        &quot;chat&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6050&#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;game&quot;:[</span><br><span class="line">               &#123;&quot;id&quot;:&quot;game-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6051,  &quot;args&quot;:&quot;--inspect&#x3D;5858&quot;&#125;</span><br><span class="line">          ],</span><br><span class="line">        &quot;gate&quot;:[</span><br><span class="line">	       &#123;&quot;id&quot;: &quot;gate-server-1&quot;, &quot;host&quot;: &quot;127.0.0.1&quot;, &quot;clientPort&quot;: 3014, &quot;frontend&quot;: true&#125;</span><br><span class="line">	    ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;production&quot;:&#123;</span><br><span class="line">           &quot;connector&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4050, &quot;clientPort&quot;: 3050, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-2&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4051, &quot;clientPort&quot;: 3051, &quot;frontend&quot;: true&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;connector-server-3&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:4052, &quot;clientPort&quot;: 3052, &quot;frontend&quot;: true&#125;</span><br><span class="line">         ],</span><br><span class="line">        &quot;chat&quot;:[</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6050&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-2&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6051&#125;,</span><br><span class="line">             &#123;&quot;id&quot;:&quot;chat-server-3&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6052&#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;game&quot;:[</span><br><span class="line">          &#123;&quot;id&quot;:&quot;game-server-1&quot;, &quot;host&quot;:&quot;127.0.0.1&quot;, &quot;port&quot;:6051&#125;</span><br><span class="line">     ],</span><br><span class="line">        &quot;gate&quot;:[</span><br><span class="line">           &#123;&quot;id&quot;: &quot;gate-server-1&quot;, &quot;host&quot;: &quot;127.0.0.1&quot;, &quot;clientPort&quot;: 3014, &quot;frontend&quot;: true&#125;</span><br><span class="line">        ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-注册服务器-在adminServer-json配置game服务器配置（这里之前没配置，导致启动服务器出错）"><a href="#3-注册服务器-在adminServer-json配置game服务器配置（这里之前没配置，导致启动服务器出错）" class="headerlink" title="3.注册服务器,在adminServer.json配置game服务器配置（这里之前没配置，导致启动服务器出错）"></a>3.注册服务器,在adminServer.json配置game服务器配置（这里之前没配置，导致启动服务器出错）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;type&quot;: &quot;connector&quot;,</span><br><span class="line">        &quot;token&quot;: &quot;agarxhqb98rpajloaxn34ga8xrunpagkjwlaw3ruxnpaagl29w4rxn&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;type&quot;: &quot;chat&quot;,</span><br><span class="line">        &quot;token&quot;: &quot;agarxhqb98rpajloaxn34ga8xrunpagkjwlaw3ruxnpaagl29w4rxn&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;type&quot;: &quot;game&quot;,</span><br><span class="line">        &quot;token&quot;: &quot;agarxhqb98rpajloaxn34ga8xrunpagkjwlaw3ruxnpaagl29w4rxn&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;type&quot;: &quot;gate&quot;,</span><br><span class="line">        &quot;token&quot;: &quot;agarxhqb98rpajloaxn34ga8xrunpagkjwlaw3ruxnpaagl29w4rxn&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h5 id="4-在连接服务器，新增代码-其实为了方便我只是对chat服务器的相应代码做了拷贝简单修改为game服务器"><a href="#4-在连接服务器，新增代码-其实为了方便我只是对chat服务器的相应代码做了拷贝简单修改为game服务器" class="headerlink" title="4.在连接服务器，新增代码, 其实为了方便我只是对chat服务器的相应代码做了拷贝简单修改为game服务器"></a>4.在连接服务器，新增代码, 其实为了方便我只是对chat服务器的相应代码做了拷贝简单修改为game服务器</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">handler.enterGame &#x3D; function(msg, session, next) &#123;</span><br><span class="line">	var self &#x3D; this;</span><br><span class="line">	var rid &#x3D; msg.rid;</span><br><span class="line">	var uid &#x3D; msg.username + &#39;*&#39; + rid</span><br><span class="line">	var sessionService &#x3D; self.app.get(&#39;sessionService&#39;);</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;duplicate log in</span><br><span class="line">	if( !! sessionService.getByUid(uid)) &#123;</span><br><span class="line">		next(null, &#123;</span><br><span class="line">			code: 500,</span><br><span class="line">			error: true</span><br><span class="line">		&#125;);</span><br><span class="line">		return;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	session.bind(uid);</span><br><span class="line">	session.set(&#39;rid&#39;, rid);</span><br><span class="line">	session.push(&#39;rid&#39;, function(err) &#123;</span><br><span class="line">		if(err) &#123;</span><br><span class="line">			console.error(&#39;set rid for session service failed! error is : %j&#39;, err.stack);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	session.on(&#39;closed&#39;, onUserLeaveGame.bind(null, self.app));</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;put user into channel</span><br><span class="line">	self.app.rpc.game.gameRemote.add(session, uid, self.app.get(&#39;serverId&#39;), rid, true, function(users)&#123;</span><br><span class="line">		next(null, &#123;</span><br><span class="line">			users:users</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * User log out handler</span><br><span class="line"> *</span><br><span class="line"> * @param &#123;Object&#125; app current application</span><br><span class="line"> * @param &#123;Object&#125; session current session object</span><br><span class="line"> *</span><br><span class="line"> *&#x2F;</span><br><span class="line">var onUserLeaveGame &#x3D; function(app, session) &#123;</span><br><span class="line">	if(!session || !session.uid) &#123;</span><br><span class="line">		return;</span><br><span class="line">	&#125;</span><br><span class="line">	app.rpc.game.gameRemote.kick(session, session.uid, app.get(&#39;serverId&#39;), session.get(&#39;rid&#39;), null);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="5-启动服务器，通过之前的客户端的聊天例子，重新修改发送消息接口"><a href="#5-启动服务器，通过之前的客户端的聊天例子，重新修改发送消息接口" class="headerlink" title="5.启动服务器，通过之前的客户端的聊天例子，重新修改发送消息接口"></a>5.启动服务器，通过之前的客户端的聊天例子，重新修改发送消息接口</h5><p><img src="https://upload-images.jianshu.io/upload_images/4743656-0f3f6d378c5c82e4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h4 id="二、大功告成，下步继续研究pomelo的mmorpg游戏的服务器，目前搞懂这个聊天服务器，已经可以用到小游戏的服务器上了，把数据库加入，基本可以了（正在把之前写的微信小游戏服务器转移到这个架构上来）"><a href="#二、大功告成，下步继续研究pomelo的mmorpg游戏的服务器，目前搞懂这个聊天服务器，已经可以用到小游戏的服务器上了，把数据库加入，基本可以了（正在把之前写的微信小游戏服务器转移到这个架构上来）" class="headerlink" title="二、大功告成，下步继续研究pomelo的mmorpg游戏的服务器，目前搞懂这个聊天服务器，已经可以用到小游戏的服务器上了，把数据库加入，基本可以了（正在把之前写的微信小游戏服务器转移到这个架构上来）"></a>二、大功告成，下步继续研究pomelo的mmorpg游戏的服务器，目前搞懂这个聊天服务器，已经可以用到小游戏的服务器上了，把数据库加入，基本可以了（正在把之前写的微信小游戏服务器转移到这个架构上来）</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.lyndev.cn/2020/05/04/pomelo001/" data-id="cks8lgenb000mzw924a6v87h8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-laya003" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/04/laya003/" class="article-date">
  <time datetime="2020-05-04T11:09:32.000Z" itemprop="datePublished">2020-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/04/laya003/">laya一些细节注意事项</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>一、问题：导出特效，在场景中创建并设置位置，预览看起来没有设置到指定位置，且被其他场景物体遮挡了</p>
<p>二、主要是场景中的其他物体材质的RenderQueue层级高于了当前特效到RenderQueue，解决办法是在unity3d中修改他们的RenderQueue值，越高渲染层级越高<br><img src="https://upload-images.jianshu.io/upload_images/4743656-a47d7dc8e5bd054f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>三、粒子特效请使用additive叠加模式</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.lyndev.cn/2020/05/04/laya003/" data-id="cks8lgen5000izw92a7eq4vhw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/laya/" rel="tag">laya</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-laya002" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/04/laya002/" class="article-date">
  <time datetime="2020-05-04T11:08:56.000Z" itemprop="datePublished">2020-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/04/laya002/">LayaAir-【原生平台适配】</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>修改如下：<br>/**</p>
<ul>
<li>设置LayaNative屏幕方向，可设置以下值</li>
<li>landscape           横屏</li>
<li>portrait            竖屏</li>
<li>sensor_landscape    横屏(双方向)</li>
<li>sensor_portrait     竖屏(双方向)</li>
<li>/<br>window.screenOrientation = “portrait”;</li>
</ul>
<p>官方文档的适配是针对小游戏部分！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.lyndev.cn/2020/05/04/laya002/" data-id="cks8lgen3000gzw92dhahgo1s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/laya/" rel="tag">laya</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-laya001" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/04/laya001/" class="article-date">
  <time datetime="2020-05-04T11:06:58.000Z" itemprop="datePublished">2020-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/04/laya001/">LayaAir-【Laya2.x-微信小游戏分包加载】微信已经提高到了12M</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="如有遗漏、错误，麻烦各位指正。"><a href="#如有遗漏、错误，麻烦各位指正。" class="headerlink" title="如有遗漏、错误，麻烦各位指正。"></a>如有遗漏、错误，麻烦各位指正。</h4><h4 id="分包后的目录结构："><a href="#分包后的目录结构：" class="headerlink" title="分包后的目录结构："></a>分包后的目录结构：<img src="https://upload-images.jianshu.io/upload_images/4743656-5b2c3debc4179d72.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></h4><h4 id="一、Laya-IDE版本：-2-2-0"><a href="#一、Laya-IDE版本：-2-2-0" class="headerlink" title="一、Laya IDE版本：###2.2.0"></a>一、Laya IDE版本：###2.2.0</h4><h4 id="二、单个脚本文件超过4M暂没处理这个（你为什么要吧这个代码文件超过4m自己解决下！！！！！！），单个分包不能超过4Mb"><a href="#二、单个脚本文件超过4M暂没处理这个（你为什么要吧这个代码文件超过4m自己解决下！！！！！！），单个分包不能超过4Mb" class="headerlink" title="二、单个脚本文件超过4M暂没处理这个（你为什么要吧这个代码文件超过4m自己解决下！！！！！！），单个分包不能超过4Mb"></a>二、单个脚本文件超过4M暂没处理这个（你为什么要吧这个代码文件超过4m自己解决下！！！！！！），单个分包不能超过4Mb</h4><h4 id="三、加载流程，将wxgame目录下的libs下的，laya-core-js、laya-ui-js、laya-d3-js拷贝到子包目录下的libs（新建的目录）"><a href="#三、加载流程，将wxgame目录下的libs下的，laya-core-js、laya-ui-js、laya-d3-js拷贝到子包目录下的libs（新建的目录）" class="headerlink" title="三、加载流程，将wxgame目录下的libs下的，laya.core.js、laya.ui.js、laya.d3.js拷贝到子包目录下的libs（新建的目录）"></a>三、加载流程，将wxgame目录下的libs下的，laya.core.js、laya.ui.js、laya.d3.js拷贝到子包目录下的libs（新建的目录）</h4><p><img src="https://upload-images.jianshu.io/upload_images/4743656-c12cc262788cc6f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000" alt="image.png"></p>
<h4 id="四、代码修改"><a href="#四、代码修改" class="headerlink" title="四、代码修改"></a>四、代码修改</h4><p>1.wxgame目录下index.js修改为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">loadLib(&quot;js&#x2F;bundle.js&quot;);</span><br></pre></td></tr></table></figure>
<p>2.wxgame目录下bundle.js修改为：（我测试了3个子包，总包大小一共11.3mb）</p>
<h5 id="注意：代码中的TODO部分，TODO部分是原本bundle-js的内容，简单说，之类就是必须等所有子包下载完成后并初始化以后才能去启动游戏代码"><a href="#注意：代码中的TODO部分，TODO部分是原本bundle-js的内容，简单说，之类就是必须等所有子包下载完成后并初始化以后才能去启动游戏代码" class="headerlink" title="注意：代码中的TODO部分，TODO部分是原本bundle.js的内容，简单说，之类就是必须等所有子包下载完成后并初始化以后才能去启动游戏代码"></a>注意：代码中的TODO部分，TODO部分是原本bundle.js的内容，简单说，之类就是必须等所有子包下载完成后并初始化以后才能去启动游戏代码</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">let wx &#x3D; window.wx;</span><br><span class="line">var _loadSubPackage &#x3D; function (name, failCall, sucessCall) &#123;</span><br><span class="line">    wx.loadSubpackage(&#123;</span><br><span class="line">        name: name,</span><br><span class="line">        success: function (res) &#123;</span><br><span class="line">            console.log(&quot;加载&quot; + name + &quot;包成功！&quot;);</span><br><span class="line">            sucessCall &amp;&amp; sucessCall()</span><br><span class="line">        &#125;,</span><br><span class="line">        fail: function (res) &#123;</span><br><span class="line">            console.log(&quot;加载&quot; + name + &quot;分包失败！&quot;)</span><br><span class="line">            failCall &amp;&amp; failCall()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">let NeedLoadSubPackageCount &#x3D; 3</span><br><span class="line">var allLoadFinish &#x3D; function () &#123;</span><br><span class="line">    NeedLoadSubPackageCount--</span><br><span class="line">    if (NeedLoadSubPackageCount &#x3D;&#x3D; 0) &#123;</span><br><span class="line">      &#x2F;&#x2F;TODO:这里是原本bundle.js的内容</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_loadSubPackage(&quot;subpackage&quot;, null, allLoadFinish)</span><br><span class="line">_loadSubPackage(&quot;subpackage2&quot;, null, allLoadFinish)</span><br><span class="line">_loadSubPackage(&quot;subpackage3&quot;, null, allLoadFinish)</span><br></pre></td></tr></table></figure>

<p>###五、子包的配置<br>1.子包必须要有game.js<br>这里我的子包中的game.js：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.loadLib &#x3D; require;</span><br><span class="line">require(&quot;index.js&quot;);</span><br></pre></td></tr></table></figure>
<p>2.子包的index.js(根据自己的代码结构来），这里我是直接拷贝之前wxgame的index.js来加载laya类库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 设置LayaNative屏幕方向，可设置以下值</span><br><span class="line"> * landscape           横屏</span><br><span class="line"> * portrait            竖屏</span><br><span class="line"> * sensor_landscape    横屏(双方向)</span><br><span class="line"> * sensor_portrait     竖屏(双方向)</span><br><span class="line"> *&#x2F;</span><br><span class="line">window.screenOrientation &#x3D; &quot;sensor_landscape&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-----libs-begin-----</span><br><span class="line">loadLib(&quot;libs&#x2F;laya.core.js&quot;);</span><br><span class="line">loadLib(&quot;libs&#x2F;laya.ui.js&quot;);</span><br><span class="line">loadLib(&quot;libs&#x2F;laya.d3.js&quot;)&#x2F;&#x2F;-----libs-end-------</span><br><span class="line">&#x2F;&#x2F;loadLib(&quot;js&#x2F;bundle.js&quot;);</span><br><span class="line">console.log(&quot;分包1初始化完成&quot;)</span><br></pre></td></tr></table></figure>
<p>3.配置game.json,增加subpackages，配置如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;deviceOrientation&quot;: &quot;portrait&quot;,</span><br><span class="line">  &quot;showStatusBar&quot;: false,</span><br><span class="line">  &quot;networkTimeout&quot;: &#123;</span><br><span class="line">    &quot;request&quot;: 10000,</span><br><span class="line">    &quot;connectSocket&quot;: 10000,</span><br><span class="line">    &quot;uploadFile&quot;: 10000,</span><br><span class="line">    &quot;downloadFile&quot;: 10000</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;subpackages&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;name&quot;: &quot;subpackage&quot;,</span><br><span class="line">      &quot;root&quot;: &quot;subpackage&#x2F;&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;name&quot;: &quot;subpackage2&quot;,</span><br><span class="line">      &quot;root&quot;: &quot;subpackage2&#x2F;&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;name&quot;: &quot;subpackage3&quot;,</span><br><span class="line">      &quot;root&quot;: &quot;subpackage3&#x2F;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4.完成了上面3个步骤，所有工作都昨晚了，现在就是去微信ide工具调试了</p>
<h4 id="六、结果"><a href="#六、结果" class="headerlink" title="六、结果"></a>六、结果</h4><p><img src="https://upload-images.jianshu.io/upload_images/4743656-9329c8cf5ea09992.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/800" alt="image.png"></p>
<h4 id="七、注意，应该需要对微信小游戏的基础库进行判定，基础库使用2-1-0-及以上版本。-这里我没去测试，各位看官自行去解决-）"><a href="#七、注意，应该需要对微信小游戏的基础库进行判定，基础库使用2-1-0-及以上版本。-这里我没去测试，各位看官自行去解决-）" class="headerlink" title="七、注意，应该需要对微信小游戏的基础库进行判定，基础库使用2.1.0 及以上版本。(这里我没去测试，各位看官自行去解决~）"></a>七、注意，应该需要对微信小游戏的基础库进行判定，基础库使用2.1.0 及以上版本。(这里我没去测试，各位看官自行去解决~）</h4><p>检测代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;检查版本 </span><br><span class="line">var info &#x3D; wx.getSystemInfoSync()</span><br><span class="line">console.log(&quot;info.SDKVersion&quot;,info.SDKVersion)</span><br><span class="line">if (compareVersion(info.SDKVersion,&quot;2.1.0&quot;) &gt;&#x3D; 0) &#123;</span><br><span class="line">    console.log(&quot;大于2.1.0版本&quot;)</span><br><span class="line">    window.GameIsSubPackage &#x3D; true; </span><br><span class="line">&#125;else&#123;</span><br><span class="line">    console.log(&quot;小于2.1.0版本 手动触发&quot;) </span><br><span class="line">    &#x2F;&#x2F;require(&quot;.&#x2F;subpackage&#x2F;game.js&quot;); </span><br><span class="line">    window.GameIsSubPackage &#x3D; false;</span><br></pre></td></tr></table></figure>
<h4 id="八、还不清楚？参考https-www-cnblogs-com-yuan33-p-11730966-html文章"><a href="#八、还不清楚？参考https-www-cnblogs-com-yuan33-p-11730966-html文章" class="headerlink" title="八、还不清楚？参考https://www.cnblogs.com/yuan33/p/11730966.html文章"></a>八、还不清楚？参考<a href="https://www.cnblogs.com/yuan33/p/11730966.html文章" target="_blank" rel="noopener">https://www.cnblogs.com/yuan33/p/11730966.html文章</a></h4><h4 id="九、-测试demo-github地址：待传"><a href="#九、-测试demo-github地址：待传" class="headerlink" title="九、 测试demo github地址：待传~"></a>九、 测试demo github地址：待传~</h4><h4 id="十、优化加载流程"><a href="#十、优化加载流程" class="headerlink" title="十、优化加载流程"></a>十、优化加载流程</h4><p><img src="https://upload-images.jianshu.io/upload_images/4743656-d3682ca67d4ad990.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>#####增加一个子包加载器，加载了子包列表才去执行bundle.js文件</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.lyndev.cn/2020/05/04/laya001/" data-id="cks8lgemz000ezw92dv19gwfw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/laya/" rel="tag">laya</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Behavior-Tree/" rel="tag">Behavior Tree</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cocos-creator/" rel="tag">cocos creator</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cocos2d-lua/" rel="tag">cocos2d lua</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/laya/" rel="tag">laya</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lua/" rel="tag">lua</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pomelo/" rel="tag">pomelo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shader/" rel="tag">shader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/u3d/" rel="tag">u3d</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Behavior-Tree/" style="font-size: 10px;">Behavior Tree</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/cocos-creator/" style="font-size: 20px;">cocos creator</a> <a href="/tags/cocos2d-lua/" style="font-size: 10px;">cocos2d lua</a> <a href="/tags/laya/" style="font-size: 16.67px;">laya</a> <a href="/tags/lua/" style="font-size: 10px;">lua</a> <a href="/tags/pomelo/" style="font-size: 16.67px;">pomelo</a> <a href="/tags/python/" style="font-size: 13.33px;">python</a> <a href="/tags/shader/" style="font-size: 10px;">shader</a> <a href="/tags/u3d/" style="font-size: 13.33px;">u3d</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/05/04/ccc007/">CocosCreator-【微信SDK】IOS平台-IOS微信分享(好友，朋友圈，截图)</a>
          </li>
        
          <li>
            <a href="/2020/05/04/ccc006/">CocosCreator-【微信SDK】Android平台-Android微信分享(好友，朋友圈，截图)</a>
          </li>
        
          <li>
            <a href="/2020/05/04/ccc005/">CocosCreator-【微信SDK】IOS平台-IOS微信登录篇</a>
          </li>
        
          <li>
            <a href="/2020/05/04/ccc004/">CocosCreator-微信小游戏中Protobuffjs的使用及proto文件加载问题</a>
          </li>
        
          <li>
            <a href="/2020/05/04/ccc003/">CocosCreator-简单玩转ProtobuffJS之“跑起来”（一）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 刘伏波<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">文章</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>